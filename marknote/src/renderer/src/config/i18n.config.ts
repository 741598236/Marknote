import i18n from 'i18next'
import { initReactI18next } from 'react-i18next'
import LanguageDetector from 'i18next-browser-languagedetector'

// 中文翻译
const zhCN = {
  common: {
    loading: '加载中...',
    error: '出错了',
    save: '保存',
    cancel: '取消',
    delete: '删除',
    edit: '编辑',
    copy: '复制',
    close: '关闭',
    minimize: '最小化',
    maximize: '最大化',
    confirm: '确定',
    search: '搜索',
    create: '创建',
    rename: '重命名',
    newNote: '新建笔记',
    untitled: '未命名',
    allNotes: '所有笔记',
    currentNote: '当前笔记',
    codeNotes: '代码笔记',
    projectDocs: '项目文档',
    settings: '设置',
    darkMode: '深色模式',
    lightMode: '浅色模式'
  },
  editor: {
    undo: '撤销',
    redo: '重做',
    bold: '粗体',
    italic: '斜体',
    underline: '下划线',
    strikethrough: '删除线',
    heading: '标题',
    bulletedList: '无序列表',
    numberedList: '有序列表',
    checkList: '任务列表',
    quote: '引用',
    link: '链接',
    image: '图片',
    table: '表格',
    thematicBreak: '分割线',
    codeBlock: '代码块',
    inlineCode: '行内代码',
    removeInlineCode: '移除代码格式',
    selectBlockType: '选择块类型',
    blockType: '块类型',
    paragraph: '段落',
    diffMode: '差异模式',
    sourceMode: '源码模式',
    language: '语言',
    selectLanguage: '选择语言',
    plainText: '纯文本',
    createLink: '创建链接',
    url: '链接地址',
    urlPlaceholder: '选择或粘贴URL',
    linkTitle: '标题',
    openInNewTab: '在新标签页中打开',
    insertTable: '插入表格',
    insertImage: '插入图片',
    imageUrl: '图片URL',
    imageTitle: '图片标题',
    altText: '替代文本',
    uploadImage: '上传图片',
    uploadImageTitle: '上传图片',
    frontmatter: '编辑文档前置信息'
  },
  notes: {
    title: '标题',
    lastEdit: '最后编辑',
    noNotes: '暂无笔记',
    deleteConfirm: '确定要删除这个笔记吗？',
    deleteSuccess: '笔记已删除',
    createSuccess: '笔记已创建',
    renameSuccess: '笔记已重命名',
    saveSuccess: '笔记已保存',
    saveError: '保存失败，请重试',
    emptyContent: '笔记内容为空',
    noteCount: '{{count}} 个笔记',
    newNote: '新建笔记',
    deleteNote: '删除笔记',
    createFirstNote: '来创建第一条笔记吧！',
    doubleClickToCreate: '双击此处创建新笔记',
    selectStorageDir: '选择存储目录',
    createNewNote: '创建新笔记',
    newFileName: 'Untitled.md',
    newButton: '新建',
    renameNote: '重命名笔记',
    deleteConfirmTitle: '删除笔记',
    deleteConfirmMessage: '确定要删除 {{filename}} 吗？',
    delete: '删除',
    cancel: '取消',
    createFailed: '创建失败',
    allNotesSavedIn: '所有笔记文件将保存在：{{path}}',
    loadingNotes: '正在加载笔记...',
    selectOrCreateNote: '请选择或创建一个笔记'
  },
  file: {
    selectDirectory: '选择存储目录',
    createDirectory: '创建目录',
    fileExists: '文件已存在',
    invalidPath: '无效路径',
    permissionDenied: '权限被拒绝',
    saveAs: '另存为',
    newFile: '新建文件',
    allFiles: '所有文件',
    markdownFiles: 'Markdown文件'
  },
  link: {
    insertLink: '插入链接',
    manageLinks: '管理链接',
    searchLinks: '搜索链接...',
    editLink: '编辑链接',
    deleteLink: '删除链接',
    urlPlaceholder: 'https://example.com',
    linkTitle: '链接标题',
    internalLink: '内部链接',
    externalLink: '外部链接',
    openInNewTab: '在新标签页打开',
    linkUrl: '链接地址',
    linkDescription: '链接描述',
    jumpToNote: '跳转到笔记',
    linkDescriptionPlaceholder: '链接描述',
    recentLinks: '最近使用的链接',
    clipboardUrl: '剪贴板URL',
    useClipboardUrl: '使用剪贴板URL',
    invalidLink: '无效链接',
    validLink: '有效链接',
    validating: '验证中...',
    brokenLinks: '失效链接',
    cancel: '取消',
    confirm: '确定',
    // 编辑器工具栏
    'editor.undo': '撤销',
    'editor.redo': '重做',
    'editor.bold': '粗体',
    'editor.italic': '斜体',
    'editor.underline': '下划线',
    'editor.strikethrough': '删除线',
    'editor.code': '行内代码',
    'editor.unorderedList': '无序列表',
    'editor.orderedList': '有序列表',
    'editor.taskList': '任务列表',
    'editor.paragraph': '段落',
    'editor.heading1': '一级标题',
    'editor.heading2': '二级标题',
    'editor.heading3': '三级标题',
    'editor.heading4': '四级标题',
    'editor.heading5': '五级标题',
    'editor.heading6': '六级标题',
    'editor.createLink': '创建链接',
    'editor.insertImage': '插入图片',
    'editor.insertTable': '插入表格',
    'editor.insertThematicBreak': '插入分割线',
    'editor.insertCodeBlock': '插入代码块',
    // MDXEditor 内置翻译
    'toolbar.undo': '撤销',
    'toolbar.redo': '重做',
    'toolbar.bold': '粗体',
    'toolbar.italic': '斜体',
    'toolbar.underline': '下划线',
    'toolbar.strikethrough': '删除线',
    'toolbar.code': '行内代码',
    'toolbar.bulletedList': '无序列表',
    'toolbar.numberedList': '有序列表',
    'toolbar.taskList': '任务列表',
    'toolbar.paragraph': '段落',
    'toolbar.heading1': '一级标题',
    'toolbar.heading2': '二级标题',
    'toolbar.heading3': '三级标题',
    'toolbar.heading4': '四级标题',
    'toolbar.heading5': '五级标题',
    'toolbar.heading6': '六级标题',
    'toolbar.createLink': '创建链接',
    'toolbar.insertImage': '插入图片',
    'toolbar.insertTable': '插入表格',
    'toolbar.insertThematicBreak': '插入分割线',
    'toolbar.insertCodeBlock': '插入代码块',
    // 表格相关
    'table.insertRowAbove': '在上方插入行',
    'table.insertRowBelow': '在下方插入行',
    'table.insertColumnLeft': '在左侧插入列',
    'table.insertColumnRight': '在右侧插入列',
    'table.deleteRow': '删除行',
    'table.deleteColumn': '删除列',
    'table.deleteTable': '删除表格',
    'table.toggleHeaderRow': '切换标题行',
    'table.toggleHeaderColumn': '切换标题列',
    'table.toggleHeader': '切换标题',
    'table.alignLeft': '左对齐',
    'table.alignCenter': '居中对齐',
    'table.alignRight': '右对齐',
    'table.align': '对齐方式',
    'table.addColumnBefore': '在前面插入列',
    'table.addColumnAfter': '在后面插入列',
    'table.addRowBefore': '在前面插入行',
    'table.addRowAfter': '在后面插入行',
    'table.mergeCells': '合并单元格',
    'table.splitCell': '拆分单元格',
    'table.toggleTable': '切换表格',
    // 代码块相关
    'code.selectLanguage': '选择语言',
    'code.copied': '已复制',
    'code.copy': '复制',
    'code.paste': '粘贴',
    'code.cut': '剪切',
    'code.selectAll': '全选',
    'code.language': '语言',
    'code.codeBlock': '代码块',
    'code.inlineCode': '行内代码',
    'code.syntaxHighlighting': '语法高亮',
    'code.lineNumbers': '行号',
    'code.wrapLines': '换行',
    'code.copyCode': '复制代码',
    'code.copiedToClipboard': '已复制到剪贴板',
    // 链接相关
    'createLink.title': '创建链接',
    'createLink.url': 'URL',
    'createLink.titleLabel': '标题',
    'createLink.openInNewTab': '在新标签页打开',
    'createLink.cancel': '取消',
    'createLink.save': '保存',
    // 图片相关
    'image.title': '插入图片',
    'image.url': '图片URL',
    'image.alt': '替代文本',
    'image.titleLabel': '标题',
    'image.cancel': '取消',
    'image.save': '保存',
    // 通用操作
    'common.cancel': '取消',
    'common.save': '保存',
    'common.delete': '删除',
    'common.edit': '编辑',
    'common.insert': '插入',
    'common.close': '关闭',
    // MDXEditor 内置的更多翻译键
    'Insert': '插入',
    'Save': '保存',
    'Cancel': '取消',
    'Delete': '删除',
    'Edit': '编辑',
    'Close': '关闭',
    'Copy': '复制',
    'Cut': '剪切',
    'Paste': '粘贴',
    'Select all': '全选',
    'Undo': '撤销',
    'Redo': '重做',
    'Bold': '粗体',
    'Italic': '斜体',
    'Underline': '下划线',
    'Strikethrough': '删除线',
    'Code': '代码',
    'Link': '链接',
    'Image': '图片',
    'Table': '表格',
    'Heading': '标题',
    'Paragraph': '段落',
    'Blockquote': '引用',
    'List': '列表',
    'Ordered list': '有序列表',
    'Unordered list': '无序列表',
    'Task list': '任务列表',
    'Horizontal rule': '水平线',
    'Code block': '代码块',
    'Inline code': '行内代码',
    'Language': '语言'
  }
}

// 英文翻译
const enUS = {
  common: {
    loading: 'Loading...',
    error: 'Error',
    save: 'Save',
    cancel: 'Cancel',
    delete: 'Delete',
    edit: 'Edit',
    copy: 'Copy',
    close: 'Close',
    minimize: 'Minimize',
    maximize: 'Maximize',
    confirm: 'Confirm',
    search: 'Search',
    create: 'Create',
    rename: 'Rename',
    newNote: 'New Note',
    untitled: 'Untitled',
    allNotes: 'All Notes',
    currentNote: 'Current Note',
    codeNotes: 'Code Notes',
    projectDocs: 'Project Docs',
    settings: 'Settings',
    darkMode: 'Dark Mode',
    lightMode: 'Light Mode'
  },
  editor: {
    undo: 'Undo',
    redo: 'Redo',
    bold: 'Bold',
    italic: 'Italic',
    underline: 'Underline',
    strikethrough: 'Strikethrough',
    heading: 'Heading',
    bulletedList: 'Bulleted List',
    numberedList: 'Numbered List',
    checkList: 'Check List',
    quote: 'Quote',
    link: 'Link',
    image: 'Image',
    table: 'Table',
    thematicBreak: 'Thematic Break',
    codeBlock: 'Code Block',
    inlineCode: 'Inline Code',
    removeInlineCode: 'Remove Code Format',
    selectBlockType: 'Select Block Type',
    blockType: 'Block Type',
    paragraph: 'Paragraph',
    diffMode: 'Diff Mode',
    sourceMode: 'Source Mode',
    language: 'Language',
    selectLanguage: 'Select Language',
    plainText: 'Plain Text',
    createLink: 'Create Link',
    url: 'URL',
    urlPlaceholder: 'Select or paste URL',
    linkTitle: 'Title',
    openInNewTab: 'Open in new tab',
    insertTable: 'Insert Table',
    insertImage: 'Insert Image',
    imageUrl: 'Image URL',
    imageTitle: 'Image Title',
    altText: 'Alt Text',
    uploadImage: 'Upload Image',
    uploadImageTitle: 'Upload Image',
    frontmatter: 'Edit Frontmatter'
  },
  notes: {
    title: 'Title',
    lastEdit: 'Last Edit',
    noNotes: 'No notes',
    deleteConfirm: 'Are you sure you want to delete this note?',
    deleteSuccess: 'Note deleted',
    createSuccess: 'Note created',
    renameSuccess: 'Note renamed',
    saveSuccess: 'Note saved',
    saveError: 'Save failed, please try again',
    emptyContent: 'Note content is empty',
    noteCount: '{{count}} notes',
    newNote: 'New Note',
    deleteNote: 'Delete Note',
    createFirstNote: 'Create your first note!',
    doubleClickToCreate: 'Double click here to create a new note',
    selectStorageDir: 'Select Storage Directory',
    createNewNote: 'Create New Note',
    newFileName: 'Untitled.md',
    newButton: 'New',
    renameNote: 'Rename Note',
    deleteConfirmTitle: 'Delete Note',
    deleteConfirmMessage: 'Are you sure you want to delete {{filename}}?',
    delete: 'Delete',
    cancel: 'Cancel',
    createFailed: 'Create Failed',
    allNotesSavedIn: 'All notes will be saved in: {{path}}',
    loadingNotes: 'Loading notes...',
    selectOrCreateNote: 'Please select or create a note'
  },
  file: {
    selectDirectory: 'Select Storage Directory',
    createDirectory: 'Create Directory',
    fileExists: 'File already exists',
    invalidPath: 'Invalid path',
    permissionDenied: 'Permission denied',
    saveAs: 'Save As',
    newFile: 'New File',
    allFiles: 'All Files',
    markdownFiles: 'Markdown Files'
  },
  link: {
    insertLink: 'Insert Link',
    manageLinks: 'Manage Links',
    searchLinks: 'Search links...',
    editLink: 'Edit Link',
    deleteLink: 'Delete Link',
    urlPlaceholder: 'https://example.com',
    linkTitle: 'Link Title',
    internalLink: 'Internal Link',
    externalLink: 'External Link',
    openInNewTab: 'Open in new tab',
    linkUrl: 'Link URL',
    linkDescription: 'Link Description',
    jumpToNote: 'Jump to note',
    linkDescriptionPlaceholder: 'Link description',
    recentLinks: 'Recent links',
    clipboardUrl: 'Clipboard URL',
    useClipboardUrl: 'Use clipboard URL',
    invalidLink: 'Invalid link',
    validLink: 'Valid link',
    validating: 'Validating...',
    brokenLinks: 'Broken Links',
    cancel: 'Cancel',
    confirm: 'Confirm',
    // 编辑器工具栏
    'editor.undo': 'Undo',
    'editor.redo': 'Redo',
    'editor.bold': 'Bold',
    'editor.italic': 'Italic',
    'editor.underline': 'Underline',
    'editor.strikethrough': 'Strikethrough',
    'editor.code': 'Code',
    'editor.unorderedList': 'Bulleted List',
    'editor.orderedList': 'Numbered List',
    'editor.taskList': 'Task List',
    'editor.paragraph': 'Paragraph',
    'editor.heading1': 'Heading 1',
    'editor.heading2': 'Heading 2',
    'editor.heading3': 'Heading 3',
    'editor.heading4': 'Heading 4',
    'editor.heading5': 'Heading 5',
    'editor.heading6': 'Heading 6',
    'editor.createLink': 'Create Link',
    'editor.insertImage': 'Insert Image',
    'editor.insertTable': 'Insert Table',
    'editor.insertThematicBreak': 'Insert Divider',
    'editor.insertCodeBlock': 'Insert Code Block',
    // MDXEditor 内置翻译
    'toolbar.undo': 'Undo',
    'toolbar.redo': 'Redo',
    'toolbar.bold': 'Bold',
    'toolbar.italic': 'Italic',
    'toolbar.underline': 'Underline',
    'toolbar.strikethrough': 'Strikethrough',
    'toolbar.code': 'Code',
    'toolbar.bulletedList': 'Bulleted List',
    'toolbar.numberedList': 'Numbered List',
    'toolbar.taskList': 'Task List',
    'toolbar.paragraph': 'Paragraph',
    'toolbar.heading1': 'Heading 1',
    'toolbar.heading2': 'Heading 2',
    'toolbar.heading3': 'Heading 3',
    'toolbar.heading4': 'Heading 4',
    'toolbar.heading5': 'Heading 5',
    'toolbar.heading6': 'Heading 6',
    'toolbar.createLink': 'Create Link',
    'toolbar.insertImage': 'Insert Image',
    'toolbar.insertTable': 'Insert Table',
    'toolbar.insertThematicBreak': 'Insert Divider',
    'toolbar.insertCodeBlock': 'Insert Code Block',
    // 表格相关
    'table.insertRowAbove': 'Insert Row Above',
    'table.insertRowBelow': 'Insert Row Below',
    'table.insertColumnLeft': 'Insert Column Left',
    'table.insertColumnRight': 'Insert Column Right',
    'table.deleteRow': 'Delete Row',
    'table.deleteColumn': 'Delete Column',
    'table.deleteTable': 'Delete Table',
    'table.toggleHeaderRow': 'Toggle Header Row',
    'table.toggleHeaderColumn': 'Toggle Header Column',
    'table.toggleHeader': 'Toggle Header',
    'table.alignLeft': 'Align Left',
    'table.alignCenter': 'Align Center',
    'table.alignRight': 'Align Right',
    'table.align': 'Alignment',
    'table.addColumnBefore': 'Add Column Before',
    'table.addColumnAfter': 'Add Column After',
    'table.addRowBefore': 'Add Row Before',
    'table.addRowAfter': 'Add Row After',
    'table.mergeCells': 'Merge Cells',
    'table.splitCell': 'Split Cell',
    'table.toggleTable': 'Toggle Table',
    // 代码块相关
    'code.selectLanguage': 'Select Language',
    'code.copied': 'Copied',
    'code.copy': 'Copy',
    'code.paste': 'Paste',
    'code.cut': 'Cut',
    'code.selectAll': 'Select All',
    'code.language': 'Language',
    'code.codeBlock': 'Code Block',
    'code.inlineCode': 'Inline Code',
    'code.syntaxHighlighting': 'Syntax Highlighting',
    'code.lineNumbers': 'Line Numbers',
    'code.wrapLines': 'Wrap Lines',
    'code.copyCode': 'Copy Code',
    'code.copiedToClipboard': 'Copied to Clipboard',
    // 链接相关
    'createLink.title': 'Create Link',
    'createLink.url': 'URL',
    'createLink.titleLabel': 'Title',
    'createLink.openInNewTab': 'Open in new tab',
    'createLink.cancel': 'Cancel',
    'createLink.save': 'Save',
    // 图片相关
    'image.title': 'Insert Image',
    'image.url': 'Image URL',
    'image.alt': 'Alt text',
    'image.titleLabel': 'Title',
    'image.cancel': 'Cancel',
    'image.save': 'Save',
    // 通用操作
    'common.cancel': 'Cancel',
    'common.save': 'Save',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.insert': 'Insert',
    'common.close': 'Close',
    // MDXEditor 内置的更多翻译键
    'Insert': 'Insert',
    'Save': 'Save',
    'Cancel': 'Cancel',
    'Delete': 'Delete',
    'Edit': 'Edit',
    'Close': 'Close',
    'Copy': 'Copy',
    'Cut': 'Cut',
    'Paste': 'Paste',
    'Select all': 'Select all',
    'Undo': 'Undo',
    'Redo': 'Redo',
    'Bold': 'Bold',
    'Italic': 'Italic',
    'Underline': 'Underline',
    'Strikethrough': 'Strikethrough',
    'Code': 'Code',
    'Link': 'Link',
    'Image': 'Image',
    'Table': 'Table',
    'Heading': 'Heading',
    'Paragraph': 'Paragraph',
    'Blockquote': 'Blockquote',
    'List': 'List',
    'Ordered list': 'Ordered list',
    'Unordered list': 'Unordered list',
    'Task list': 'Task list',
    'Horizontal rule': 'Horizontal rule',
    'Code block': 'Code block',
    'Inline code': 'Inline code',
    'Language': 'Language'
  }
}

const resources = {
  'zh-CN': { translation: zhCN },
  'en-US': { translation: enUS }
}

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en-US',
    debug: false,
    interpolation: {
      escapeValue: false
    },
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage'],
      lookupLocalStorage: 'i18nextLng'
    }
  })

export default i18n